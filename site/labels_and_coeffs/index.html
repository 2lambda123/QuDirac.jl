<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Working with labels and coefficients - QuDirac.jl</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> QuDirac.jl</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
            <li class="toctree-l1 ">
                <a class="" href="../constructing_states">Constructing Single Bras and Kets</a>
            </li>
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../state_math">Math with QuDirac objects</a>
            </li>
        

    
        
            <li class="toctree-l1 current">
                <a class="current" href=".">Working with labels and coefficients</a>
            </li>
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../custom_inner_products">Custom Inner Products</a>
            </li>
        

    
        
        <span>Misc</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../d_str">Natural expression input using @d_str</a>
                    
                </li>
            
        

    
        
        <span>API</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../filtering_functions">Filtering functions</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../mapping_functions">Mapping functions</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href=".."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    <li>Working with labels and coefficients</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/JuliaQuantum/QuDirac.jl" class="icon icon-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <p>There are few important things to keep in mind when working with states:</p>
<ul>
<li>State labels are of type <code>Vector{Any}</code> and coefficients are restricted to be a subtype of <code>Number</code>.</li>
<li>Because the label-to-coefficient map is stored as a <code>Dict</code>, the state labels are "unordered", i.e. iteration through a set of labels is not guaranteed to be in any particular order.</li>
</ul>
<hr />
<h2 id="accessingassigning-coefficients-with-labels">Accessing/Assigning coefficients with labels</h2>
<hr />
<p>Coefficients are accessed by the labels of the basis states:</p>
<pre><code>julia&gt; k = normalize!(sum(i-&gt;i*ket(i), 1:3))
Ket{Orthonormal,1} with 3 state(s):
  0.5345224838248488 | 2 ⟩
  0.8017837257372732 | 3 ⟩
  0.2672612419124244 | 1 ⟩

julia&gt; k[3]
0.8017837257372732

</code></pre>

<p>The coefficients of product states are accessed in the same fashion:</p>
<pre><code>julia&gt; k4 = k^4
Ket{Orthonormal,4} with 81 state(s):
  0.06122448979591838 | 3,2,2,1 ⟩
  0.03061224489795919 | 1,2,1,3 ⟩
  0.18367346938775514 | 3,3,2,2 ⟩
  0.045918367346938785 | 1,3,1,3 ⟩
  0.09183673469387757 | 2,1,3,3 ⟩
  0.06122448979591838 | 3,2,1,2 ⟩
  0.040816326530612256 | 2,1,2,2 ⟩
  0.2755102040816327 | 3,2,3,3 ⟩
  0.13775510204081634 | 3,3,1,3 ⟩
  0.020408163265306128 | 1,2,2,1 ⟩
  0.13775510204081634 | 3,3,3,1 ⟩
  0.09183673469387757 | 3,3,1,2 ⟩
  0.09183673469387757 | 3,3,2,1 ⟩
  0.03061224489795919 | 3,1,1,2 ⟩
  0.03061224489795919 | 1,3,2,1 ⟩
  0.12244897959183676 | 2,3,2,2 ⟩
  ⁞

julia&gt; k4[3,2,3,3]
0.2755102040816327

</code></pre>

<p>One can also peform <code>setindex!</code> operations on a state: </p>
<pre><code>julia&gt; k = 0*ket(0)
Ket{Orthonormal,1} with 1 state(s):
  0 | 0 ⟩

julia&gt; k[0] = 1; k[1] = 1/2; k[2] = 1/4; normalize!(k)
Ket{Orthonormal,1} with 3 state(s):
  0.8728715609439696 | 0 ⟩
  0.2182178902359924 | 2 ⟩
  0.4364357804719848 | 1 ⟩
</code></pre>

<p>Tip: Performing a <code>setindex!</code> operation on a state is faster than constructing new states for the sake of addition/subtraction:</p>
<pre><code>julia&gt; k + ket(0) # this requires constructing a new instance of | 0 ⟩
Ket{Orthonormal,1} with 3 state(s):
  1.8728715609439694 | 0 ⟩
  0.2182178902359924 | 2 ⟩
  0.4364357804719848 | 1 ⟩

julia&gt; k[0] += 1 # faster than the above, but of course mutates k
1.8728715609439694
</code></pre>

<hr />
<h2 id="note-on-performance">Note on Performance</h2>
<hr />
<p>Under the hood, QuDirac's Kets, Bras, and operator types use dictionaries to map state labels to coefficients.</p>
<p>Supporting <code>Dict</code>-like behavior for states and operators opens up some interesting avenues of analysis, some of which will be demonstrated in the following sections. Obviously, however, there are practical tradeoffs associated with storing label information alongside the corresponding coefficients - operations that are purely coefficient transformations will have more performant implementations on regular arrays than on QuDirac states and operators. Hopefully these tradeoffs will make more sense as you make your way through this documentation.</p>

            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../custom_inner_products" class="btn btn-neutral float-right" title="Custom Inner Products"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../state_math" class="btn btn-neutral" title="Math with QuDirac objects"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
            <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
        
      <span><a href="../state_math" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../custom_inner_products" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>